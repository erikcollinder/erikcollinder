{% if page.blocks %}

<div class="block-wrapper">

  {% for block in page.blocks %}

    <div class="block-item {{ block.layout }} layout-row">
    
    <!-- Tells jekyll where the images are at -->
  
    {% capture image_url %}
    /uploads/{{ page.slug }}/{{ block.image }}
    {% endcapture %}
  

    {% case block.layout %}

      {% when "full" %}

      <!-- Full width block -->

        <h2>{{ block.title }}</h2>
        
        <figure>
          <img src="{{ block.image_url }}" alt="{{ block.title }}">
          <figcaption>{{ block.text }}</figcaption>
        </figure>

      {% else %}

      <!-- Default Layout -->
      
      <div class="">
        
        {% if block.image %}
        
          <div class="layout-column layout-right">
            
            <figure>
              <img class="responsive-image" src="{{ image_url }}" alt="{{ block.title }}">
            </figure>
            
          </div>

          <div class="layout-column layout-aside">
            
            {% if block.title %}
            <h2>{{ block.title | markdownify }}</h2>
            {% endif %}

            {% if block.text %}
            <p>{{ block.text }}</p>
            {% endif %}

          </div>

        {% else %}

          <p>{{ block.text | markdownify }}</p>

        {% endif %}

      </div>
        
      {% endcase %}

  </div>
  {% endfor %}

</div>

<!-- End block wrapper -->

{% endif %}
